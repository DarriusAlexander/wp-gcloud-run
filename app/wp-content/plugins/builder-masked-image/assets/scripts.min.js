var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,r,m){a instanceof String&&(a=String(a));for(var e=a.length,f=0;f<e;f++){var L=a[f];if(r.call(m,L,f,a))return{i:f,v:L}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,r,m){a!=Array.prototype&&a!=Object.prototype&&(a[r]=m.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,r,m,e){if(r){m=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var f=a[e];f in m||(m[f]={});m=m[f]}a=a[a.length-1];e=m[a];r=r(e);r!=e&&null!=r&&$jscomp.defineProperty(m,a,{configurable:!0,writable:!0,value:r})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,m){return $jscomp.findInternal(this,a,m).v}},"es6-impl","es3");
(function(a){function r(a,m,c,b,z,r){var d,v,e,f,k,l,g,n,t,u,p,A,w;for(A=0;A<r;A++){var C=A;var x=0;var h=(d=a[p=A*z])>>8&255;var q=d>>16&255;var B=d>>24&255;var y=g=(v=255&d)*b[6];var D=n=h*b[6];var E=t=q*b[6];var F=u=B*b[6];var G=b[0];var H=b[1];var I=b[4];var J=b[5];for(w=0;w<z;w++)v=(e=255&(d=a[p]))*G+v*H+y*I+g*J,h=(f=d>>8&255)*G+h*H+D*I+n*J,q=(k=d>>16&255)*G+q*H+E*I+t*J,d=(l=d>>24&255)*G+B*H+F*I+u*J,g=y,n=D,t=E,u=F,y=v,D=h,E=q,F=d,v=e,h=f,q=k,B=l,c[x]=y,c[x+1]=D,c[x+2]=E,c[x+3]=F,x+=4,p++;x-=
4;C+=r*(z-1);h=(d=a[--p])>>8&255;q=d>>16&255;B=d>>24&255;y=g=(v=255&d)*b[7];D=n=h*b[7];E=t=q*b[7];F=u=B*b[7];e=v;f=h;k=q;l=B;G=b[2];H=b[3];for(w=z-1;0<=w;w--)v=e*G+v*H+y*I+g*J,h=f*G+h*H+D*I+n*J,q=k*G+q*H+E*I+t*J,d=l*G+B*H+F*I+u*J,g=y,n=D,t=E,u=F,y=v,D=h,E=q,F=d,v=e,h=f,q=k,B=l,e=255&(d=a[p]),f=d>>8&255,k=d>>16&255,l=d>>24&255,d=(c[x]+y<<0)+(c[x+1]+D<<8)+(c[x+2]+E<<16)+(c[x+3]+F<<24),m[C]=d,p--,x-=4,C-=r}}!function(a,e){a.fn.loadImage=function(c){var b=this,e=a.Deferred(),f=function(){b.unbind("load",
f);b.unbind("error",d);e.resolve(b)},d=function(){b.unbind("load",f);b.unbind("error",d);e.reject(b)};return b.bind("error",d),b.bind("load",f),b.attr("src",c),(b[0].complete||b[0].readyState)&&f(),e};a.loadImage=function(c,b){"undefined"==a.type(b)?(b=c,c=a("<img />")):c=a(c);return c.loadImage(b)}}(jQuery);var m,e,f,L,O,P,N=!0,Q=function(C){var K=a(".module-masked-image",C);C&&C[0].classList.contains("module-masked-image")&&(K=K.add(C));K.each(function(){var c=a(this),b=a("canvas",c);if(!(1>b.length)){var z=
b[0].getContext("2d"),C=a(".bmi-image-wrap a",c).clone().empty(),d=c.hasClass("image-left"),v=document.createElement("img"),K=document.createElement("img");a.loadImage(v,a(".bmi-image-wrap img",c).attr("src")).done(function(){a.loadImage(K,b.data("mask")).done(function(){c.prev(".tb_slider_loader").remove();var N=a(".bmi-text-wrap",c);var k=b.width();var l=b.height();b[0].width=k;b[0].height=l;var g=b.data("mask-flip");var n={none:[1,1,0,0],horizontal:[-1,1,-1*k,0],vertical:[1,-1,0,-1*l],both:[-1,
-1,-1*k,-1*l]};z.save();z.scale(n[g][0],n[g][1]);z.drawImage(K,n[g][2],n[g][3],k,l);if(0<parseInt(b.data("feather"))){var t=z.getImageData(0,0,k,l);var u=k;var p=l,A=parseInt(b.data("feather"));if(A){var w=new Uint32Array(t.data.buffer),M=new Uint32Array(w.length),x=new Float32Array(4*Math.max(u,p));var h=A;.5>h&&(h=.5);h=Math.exp(.527076)/h;var q=Math.exp(-h),B=Math.exp(-2*h),y=(1-q)*(1-q)/(1+2*h*q-B);h=(m=y,e=y*(h-1)*q,f=y*(h+1)*q,L=-y*B,O=2*q,P=-B,new Float32Array([m,e,f,L,O,P,(m+e)/(1-O-P),(f+
L)/(1-O-P)]));r(w,M,x,h,u,p,A);r(M,w,x,h,p,u,A)}z.putImageData(t,0,0)}z.restore();z.globalCompositeOperation="source-atop";z.drawImage(v,0,0,k,l);if(0<c.find(".bmi-text-wrap").length&&(c.hasClass("image-left")||c.hasClass("image-right"))){N.find("> a").remove();c.removeClass("stack");if(c.width()<=b.width()){c.addClass("stack").css({visibility:"visible"});return}p=b.clone();t=p[0].getContext("2d");k=b.data("gutter")?parseInt(b.data("gutter")):0;l=b.data("gutter-h")?parseInt(b.data("gutter-h")):0;
k=b.width()+k;l=b.height()+l;u=[];p[0].width=k;p[0].height=l;t.save();t.scale(n[g][0],n[g][1]);t.drawImage(K,n[g][2],n[g][3],k,l);t.restore();t.globalCompositeOperation="source-atop";t.drawImage(v,0,0,k,l);g=0;l/=10;for(;g<=l;++g)b:for(u[g]=0,p=1,n=k/10;p<=n;++p){A=t.getImageData(d?k-10*p:10*p,10*g,10,10);w=0;for(M=A.data.length;w<M;++w)if(0!==A.data[w])break b;++u[g]}u=u.reverse();g=0;for(M=u.length;g<M;++g)n=k-10*u[g],N.prepend(C.clone().css({width:n,height:10,visibility:"visible"}).addClass("bmi-spacer"))}c.css("visibility",
"visible")})})}});N=null};if(Themify.is_builder_active)Themify.is_builder_loaded?Q():N=null;else{var R=function(){a(window).on("tfsmartresize",function(){Q()})};window.loaded?R():window.addEventListener("load",R,{once:!0,passive:!0})}Themify.body.on("builder_load_module_partial",function(a,e,c){null===N&&Q(e)})})(jQuery);
