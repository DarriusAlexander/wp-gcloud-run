"use strict";(function(){jQuery(function(e){var o,c,n,s,d,u;return n=0,d="pending",o="data:application/csv;charset=utf-8,Product,Parent,Value at Retail,Value at Cost,Units in stock,Stock status\n",c=e(".export_product_valuation_csv"),s=e(".wc-cog-product-valuation-progress"),u=function(){return e.ajax({type:"POST",url:ajaxurl,data:{action:"wc_cog_do_ajax_product_valuation",offset:n,status:d,security:wc_cog_product_valuation.product_valuation_nonce},dataType:"json",success:function(a){var t;if(a.success)return n=a.data.offset,d=a.data.status,""!==(t=a.data.product_data)&&(o+=t+"\n"),e(".wc-cog-progress").val(a.data.percentage),"done"===d?setTimeout(function(){var a;return c.removeClass("hide"),s.addClass("hide").removeClass("show"),(a=document.createElement("a")).download=c.data("filename"),a.href=encodeURI(o),document.body.appendChild(a),a.click(),document.body.removeChild(a)},500):u()}})},c.on("click",function(a){return a.preventDefault(),c.addClass("hide"),s.removeClass("hide").addClass("show"),u()})})}).call(void 0);